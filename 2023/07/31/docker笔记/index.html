
<!DOCTYPE html>
<html lang="cn" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title> - Cyan的小破站</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="dokcer笔记0x00:docker介绍参考链接:https://yeasy.gitbook.io/docker_practice/
docker是一种虚拟容器技术；作为一种新兴的虚拟化方式，Do,"> 
    <meta name="author" content="cyan"> 
    <link rel="alternative" href="atom.xml" title="Cyan的小破站" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content=" - Cyan的小破站"/>
    <meta name="twitter:description" content="dokcer笔记0x00:docker介绍参考链接:https://yeasy.gitbook.io/docker_practice/
docker是一种虚拟容器技术；作为一种新兴的虚拟化方式，Do,"/>
    
    
    
    
    <meta property="og:site_name" content="Cyan的小破站"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content=" - Cyan的小破站"/>
    <meta property="og:description" content="dokcer笔记0x00:docker介绍参考链接:https://yeasy.gitbook.io/docker_practice/
docker是一种虚拟容器技术；作为一种新兴的虚拟化方式，Do,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

    <script>window.searchDbPath = "/search.xml";</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Cyan的小破站</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle"></h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title"></h1>
        <div class="stuff">
            <span>七月 31, 2023</span>
            

        </div>
        <div class="content markdown">
            <h1 id="dokcer笔记"><a href="#dokcer笔记" class="headerlink" title="dokcer笔记"></a>dokcer笔记</h1><h2 id="0x00-docker介绍"><a href="#0x00-docker介绍" class="headerlink" title="0x00:docker介绍"></a>0x00:docker介绍</h2><p>参考链接:<a target="_blank" rel="noopener" href="https://yeasy.gitbook.io/docker_practice/">https://yeasy.gitbook.io/docker_practice/</a></p>
<p>docker是一种虚拟容器技术；作为一种新兴的虚拟化方式，<code>Docker</code> 跟传统的虚拟化方式相比具有众多的优势。</p>
<ul>
<li>更高效的利用系统资源</li>
<li>更快速的启动时间</li>
<li>一致的运行环境</li>
<li>持续交付和部署</li>
<li>更轻松的迁移</li>
<li>更轻松的维护和扩展</li>
</ul>
<h4 id="对比传统虚拟机总结"><a href="#对比传统虚拟机总结" class="headerlink" title="对比传统虚拟机总结"></a>对比传统虚拟机总结</h4><table>
<thead>
<tr>
<th>特性</th>
<th>容器</th>
<th>虚拟机</th>
</tr>
</thead>
<tbody><tr>
<td>启动</td>
<td>秒级</td>
<td>分钟级</td>
</tr>
<tr>
<td>硬盘使用</td>
<td>一般为 <code>MB</code></td>
<td>一般为 <code>GB</code></td>
</tr>
<tr>
<td>性能</td>
<td>接近原生</td>
<td>弱于</td>
</tr>
<tr>
<td>系统支持量</td>
<td>单机支持上千个容器</td>
<td>一般几十个</td>
</tr>
</tbody></table>
<h2 id="0x01-安装docker环境"><a href="#0x01-安装docker环境" class="headerlink" title="0x01:安装docker环境"></a>0x01:安装docker环境</h2><h3 id="ubuntu："><a href="#ubuntu：" class="headerlink" title="ubuntu："></a>ubuntu：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">apt-get update &amp;&amp; apt-get upgrade &amp;&amp; apt-get clean   //更新源</span><br><span class="line"></span><br><span class="line">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun                                           //安装docker</span><br><span class="line"></span><br><span class="line">vim /etc/docker/daemon.json                    //配置docker加速</span><br><span class="line">                                              //添加如下内容</span><br><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;:[&quot;https://docker.mirrors.ustc.edu.cn/&quot;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker                       //重启cocker</span><br><span class="line">docker info                                    //查看信息</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="kali-linux"><a href="#kali-linux" class="headerlink" title="kali linux:"></a>kali linux:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line"></span><br><span class="line">sudo apt install -y docker.io</span><br><span class="line"></span><br><span class="line">vi /etc/docker/daemon.json                    //配置docker加速</span><br><span class="line">                                              //添加如下内容</span><br><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;:[&quot;https://docker.mirrors.ustc.edu.cn/&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="centos"><a href="#centos" class="headerlink" title="centos:"></a>centos:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line"></span><br><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"></span><br><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line">yum list docker-ce --showduplicates | sort -r</span><br><span class="line">yum install docker-ce-18.03.1.ce             //选一个合适版本</span><br><span class="line"></span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl enable  docker                     //设置开机自启</span><br><span class="line"></span><br><span class="line">vi /etc/docker/daemon.json                    //配置docker加速</span><br><span class="line">                                              //添加如下内容</span><br><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;:[&quot;https://docker.mirrors.ustc.edu.cn/&quot;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.</span><br><span class="line"></span><br><span class="line">docker version</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>安装LAMP环境</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker pull mattrayner/lamp:latest-1804</span><br><span class="line"></span><br><span class="line">docker run -d --name=fofa_spider -p &quot;31000:80&quot; mattrayner/lamp:latest-1804</span><br><span class="line"># 设置mysql默认密码</span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;fofa@504.&#x27;;</span><br></pre></td></tr></table></figure>



<h3 id="安装UnblockNeteaseMusic-–-解锁网易云音乐变灰歌曲"><a href="#安装UnblockNeteaseMusic-–-解锁网易云音乐变灰歌曲" class="headerlink" title="安装UnblockNeteaseMusic – 解锁网易云音乐变灰歌曲"></a>安装UnblockNeteaseMusic – 解锁网易云音乐变灰歌曲</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull nondanee/unblockneteasemusic</span><br><span class="line"></span><br><span class="line">docker run --name yunmusic -d -p 52000:8080 nondanee/unblockneteasemusic</span><br></pre></td></tr></table></figure>

<p><strong>云服务器、或者web防火墙开放一下52000端口</strong></p>
<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210919180736656.png" alt="image-20210919180736656"></p>
<p>Bilibili自动签到升级</p>
<p><a target="_blank" rel="noopener" href="https://github.com/RayWangQvQ/BiliBiliTool.Docs">https://github.com/RayWangQvQ/BiliBiliTool.Docs</a></p>
<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210923163555380.png" alt="image-20210923163555380"></p>
<h2 id="0x02-Docker-包括三个基本概念"><a href="#0x02-Docker-包括三个基本概念" class="headerlink" title="0x02:Docker 包括三个基本概念"></a>0x02:<strong>Docker</strong> 包括三个基本概念</h2><ul>
<li><p><strong>镜像</strong>（<code>Image</code>）</p>
</li>
<li><p><strong>容器</strong>（<code>Container</code>）</p>
</li>
<li><p><strong>仓库</strong>（<code>Repository</code>）</p>
</li>
</ul>
<h3 id="镜像："><a href="#镜像：" class="headerlink" title="镜像："></a>镜像：</h3><blockquote>
<p><strong>Docker 镜像</strong> 是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。镜像 <strong>不包含</strong> 任何动态数据，其内容在构建之后也不会被改变。</p>
</blockquote>
<h3 id="容器："><a href="#容器：" class="headerlink" title="容器："></a>容器：</h3><blockquote>
<p><strong>容器</strong>的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Linux_namespaces">命名空间</a>。因此容器可以拥有自己的 <code>root</code> 文件系统、自己的网络配置、自己的进程空间，甚至自己的用户 ID 空间。容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立于宿主的系统下操作一样。这种特性使得容器封装的应用比直接在宿主运行更加安全。也因为这种隔离的特性，很多人初学 Docker 时常常会混淆容器和虚拟机。</p>
</blockquote>
<h4 id="镜像和容器的关系："><a href="#镜像和容器的关系：" class="headerlink" title="镜像和容器的关系："></a>镜像和容器的关系：</h4><blockquote>
<p>镜像（<code>Image</code>）和容器（<code>Container</code>）的关系，就像是面向对象程序设计中的 <code>类</code> 和 <code>实例</code> 一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。</p>
</blockquote>
<h3 id="仓库："><a href="#仓库：" class="headerlink" title="仓库："></a>仓库：</h3><blockquote>
<p>镜像构建完成后，可以很容易的在当前宿主机上运行，但是，如果需要在其它服务器上使用这个镜像，我们就需要一个集中的存储、分发镜像的服务，<a href="">Docker Registry</a> 就是这样的服务。</p>
</blockquote>
<blockquote>
<p>一个 <strong>Docker Registry</strong> 中可以包含多个 <strong>仓库</strong>（<code>Repository</code>）；每个仓库可以包含多个 <strong>标签</strong>（<code>Tag</code>）；每个标签对应一个镜像。</p>
</blockquote>
<blockquote>
<p>通常，一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本。我们可以通过 <code>&lt;仓库名&gt;:&lt;标签&gt;</code> 的格式来指定具体是这个软件哪个版本的镜像。如果不给出标签，将以 <code>latest</code> 作为默认标签。</p>
</blockquote>
<blockquote>
<p>以 <a target="_blank" rel="noopener" href="https://hub.docker.com/_/ubuntu">Ubuntu 镜像</a> 为例，<code>ubuntu</code> 是仓库的名字，其内包含有不同的版本标签，如，<code>16.04</code>, <code>18.04</code>。我们可以通过 <code>ubuntu:16.04</code>，或者 <code>ubuntu:18.04</code> 来具体指定所需哪个版本的镜像。如果忽略了标签，比如 <code>ubuntu</code>，那将视为 <code>ubuntu:latest</code>。</p>
</blockquote>
<blockquote>
<p>仓库名经常以 <em>两段式路径</em> 形式出现，比如 <code>jwilder/nginx-proxy</code>，前者往往意味着 Docker Registry 多用户环境下的用户名，后者则往往是对应的软件名。但这并非绝对，取决于所使用的具体 Docker Registry 的软件或服务。</p>
</blockquote>
<h2 id="0x03-docker操作"><a href="#0x03-docker操作" class="headerlink" title="0x03:docker操作"></a>0x03:docker操作</h2><h3 id="镜像：-1"><a href="#镜像：-1" class="headerlink" title="镜像："></a>镜像：</h3><h4 id="拉取镜像："><a href="#拉取镜像：" class="headerlink" title="拉取镜像："></a>拉取镜像：</h4><p>以安装dvwa靶场为例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search web-dvwa  //查找名为web-dvwa的镜像</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809154518353.png" alt="image-20210809154518353"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull vulnerables/web-dvwa:latest  //拉取最新的镜像</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809154612649.png" alt="image-20210809154612649"></p>
<h4 id="查看镜像："><a href="#查看镜像：" class="headerlink" title="查看镜像："></a>查看镜像：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images //查看本机拉取的镜像</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809154718520.png" alt="image-20210809154718520"></p>
<h4 id="导入导出镜像："><a href="#导入导出镜像：" class="headerlink" title="导入导出镜像："></a>导入导出镜像：</h4><p>使用 save 和 load 命令，通过镜像id导出镜像到宿主机</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o test_dvwa.tar vulnerables/web-dvwa:latest</span><br></pre></td></tr></table></figure>



<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809155231081.png" alt="image-20210809155231081"></p>
<p>执行以下命令进行镜像导入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load &lt; test_dvwa.tar</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809155536313.png" alt="image-20210809155536313"></p>
<h4 id="删除镜像："><a href="#删除镜像：" class="headerlink" title="删除镜像："></a>删除镜像：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi (镜像id) //必须先关闭容器，删除开启的容器才能删除镜像</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809155451579.png" alt="image-20210809155451579"></p>
<h3 id="容器：-1"><a href="#容器：-1" class="headerlink" title="容器："></a>容器：</h3><h4 id="创建-删除-一个容器："><a href="#创建-删除-一个容器：" class="headerlink" title="创建&#x2F;删除 一个容器："></a>创建&#x2F;删除 一个容器：</h4><ul>
<li>-d 后台运行</li>
<li>-p port1:port2   (外部端口):(容器内部被映射的端口)</li>
<li>–name 命名容器名</li>
<li>-it 创建交互式容器，其中，<code>-t</code> 选项让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上， <code>-i</code> 则让容器的标准输入保持打开。</li>
</ul>
<h5 id="创建："><a href="#创建：" class="headerlink" title="创建："></a>创建：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name web-dvwa -p 11000:80 vulnerables/web-dvwa</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809160500179.png" alt="image-20210809160500179"></p>
<h5 id="删除："><a href="#删除：" class="headerlink" title="删除："></a>删除：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm 3a8c49  //容器id</span><br></pre></td></tr></table></figure>



<h4 id="导入-导出-容器："><a href="#导入-导出-容器：" class="headerlink" title="导入&#x2F;导出 容器："></a>导入&#x2F;导出 容器：</h4><h5 id="导出："><a href="#导出：" class="headerlink" title="导出："></a>导出：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker export (容器id或名称) -o 名称.tar</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809160927863.png" alt="image-20210809160927863"></p>
<h5 id="导入："><a href="#导入：" class="headerlink" title="导入："></a>导入：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker import 容器.tar test/dvwa:v66666</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809161548009.png" alt="image-20210809161548009"></p>
<h4 id="启动-停止-镜像："><a href="#启动-停止-镜像：" class="headerlink" title="启动&#x2F;停止 镜像："></a>启动&#x2F;停止 镜像：</h4><h5 id="启动："><a href="#启动：" class="headerlink" title="启动："></a>启动：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start 3a8c49  //容器id</span><br></pre></td></tr></table></figure>

<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809161758555.png" alt="image-20210809161758555"></p>
<h5 id="停止："><a href="#停止：" class="headerlink" title="停止："></a>停止：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop 3a8c49</span><br></pre></td></tr></table></figure>



<h2 id="0x04-Dockerfile"><a href="#0x04-Dockerfile" class="headerlink" title="0x04:Dockerfile"></a>0x04:Dockerfile</h2><h5 id="目标：创建一个apache镜像，将index-php作为默认启动页面"><a href="#目标：创建一个apache镜像，将index-php作为默认启动页面" class="headerlink" title="目标：创建一个apache镜像，将index.php作为默认启动页面"></a>目标：创建一个apache镜像，将index.php作为默认启动页面</h5><p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809164710360.png" alt="image-20210809164710360"></p>
<blockquote>
<p><code>000-default.conf</code>文件为apache自带的配置文件，可以去网上找</p>
</blockquote>
<blockquote>
<p>修改<code>000-default.conf</code>文件12行处为<code>index.php</code></p>
</blockquote>
<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809164418104.png" alt="image-20210809164418104"></p>
<h5 id="Dockerfile内容"><a href="#Dockerfile内容" class="headerlink" title="Dockerfile内容"></a>Dockerfile内容</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FROM eboraas/apache-php  # 拉取这个镜像</span><br><span class="line"></span><br><span class="line"># 将文件复制到html目录</span><br><span class="line">COPY index.php /var/www/html/index.php</span><br><span class="line">COPY flag.php /var/www/html/flag.php</span><br><span class="line">COPY 000-default.conf  /etc/apache2/sites-available/000-default.conf</span><br><span class="line"></span><br><span class="line">设置工作目录</span><br><span class="line">WORKDIR /var/www/html</span><br></pre></td></tr></table></figure>



<h5 id="创建镜像："><a href="#创建镜像：" class="headerlink" title="创建镜像："></a>创建镜像：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t web3 .</span><br></pre></td></tr></table></figure>



<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809165230199.png" alt="image-20210809165230199"></p>
<p>访问12000端口，默认为&#x2F;index.php,不需要额外打了</p>
<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809165316625.png" alt="image-20210809165316625"></p>
<h2 id="0x05-安装-portainer"><a href="#0x05-安装-portainer" class="headerlink" title="0x05:安装 portainer"></a>0x05:安装 portainer</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker pull portainer/portainer</span><br><span class="line">docker volume create portainer_data</span><br><span class="line">docker run -d -p 9000:9000 \</span><br><span class="line">	--restart=always \</span><br><span class="line">	-v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">	-v portainer_data:/data \</span><br><span class="line">	portainer/portainer</span><br></pre></td></tr></table></figure>



<h5 id="访问9000端口：初始化portainer"><a href="#访问9000端口：初始化portainer" class="headerlink" title="访问9000端口：初始化portainer"></a>访问9000端口：初始化portainer</h5><p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809170122145.png" alt="image-20210809170122145"></p>
<h5 id="选本地"><a href="#选本地" class="headerlink" title="选本地"></a>选本地</h5><p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809170204033.png" alt="image-20210809170204033"></p>
<p><img src="https://hanayuzu-images.oss-cn-hangzhou.aliyuncs.com/images/image-20210809170444874.png" alt="image-20210809170444874"></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
        
    <div id="gitalk-container" class="comment link"
		data-enable="true"
        data-ae="true"
        data-ci=""
        data-cs=""
        data-r=""
        data-o=""
        data-a=""
        data-d="false"
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
